variables:
  random: &random
    min: 0
    max: 1
    step: 1
    default: 1
  commRadius: &commRadius
    min: 35
    max: 55
    step: 15.0
    default: 50.0
  detectorId: &detectorId
    formula: 182
  collectorId: &collectorId
    formula: 180
  surveillanceAreaSize: &surveillanceAreaSize
    formula: 200.0
  warningThreshold: &warningThreshold
    formula: 12.5
              
export:
  - time
  - molecule: g
    aggregators: [min,max,mean,sum]
    value-filter: onlyfinite

seeds:
  scenario: *random
  simulation: *random
  
incarnation: scafi

pools:
  - pool: &program
    - time-distribution:
        type: ExponentialTime
        parameters: [1]
      type: Event
      actions:
        - type: RunScafiProgram
          parameters: [it.unibo.casestudy.CaseStudy, 20]
    - program: send

environment:
  type: OSMEnvironment
  parameters: [cesena.pbf, false, false]
#  -b=12.24045,44.13541,12.24851,44.13886

layers:
  - type: UniformLayer
    molecule: constant
    parameters: [ 25.0 ]
  - type: BidimensionalGaussianLayer
    molecule: localWarning
    parameters: [ 0, 12.241355, 44.138149, 1.0, 0.0005, 0.0005] # baseline, centerX, centerY, norm, sigmaX, sigmaY

network-model:
  type: ConnectWithinDistance
  parameters: [*commRadius]

displacements:
  - in:
      type: Rectangle #GeometricGradientRectangle
      parameters: [200, 44.13621, 12.24045, 0.00345, 0.00706] #[250, 44.13621, 12.24045, 0.00345, 0.00706, 1.2, false, false]
    programs:
      - *program
    contents:
      - molecule: test
        concentration: true
      - molecule: g
        concentration: Double.PositiveInfinity
      - molecule: commRadius
        concentration: *commRadius
      - molecule: detectorId
        concentration: *detectorId
      - molecule: collectorId
        concentration: *collectorId
      - molecule: surveillanceAreaSize
        concentration: *surveillanceAreaSize
      - molecule: warningThreshold
        concentration: *warningThreshold

